// start-with-delay.js
// ะกะบัะธะฟั ะดะปั ะทะฐะฟััะบะฐ ัะตัะฒะตัะฐ ั ะทะฐะดะตัะถะบะพะน, ััะพะฑั ะธะทะฑะตะถะฐัั ะบะพะฝัะปะธะบัะพะฒ ะฟะพััะพะฒ ะฒ ะฟัะพะธะทะฒะพะดััะฒะตะฝะฝะพะน ััะตะดะต

console.log('๐ ะะฐะฟััะบ ัะตัะฒะตัะฐ ั ะทะฐะดะตัะถะบะพะน ะดะปั ะฟัะตะดะพัะฒัะฐัะตะฝะธั ะบะพะฝัะปะธะบัะพะฒ ะฟะพััะพะฒ');
console.log('โฑ๏ธ ะะถะธะดะฐะฝะธะต 5 ัะตะบัะฝะด ะฟะตัะตะด ะทะฐะฟััะบะพะผ ัะตัะฒะตัะฐ...');

// ะะดะตะผ 5 ัะตะบัะฝะด ะฟะตัะตะด ะทะฐะฟััะบะพะผ ัะตัะฒะตัะฐ
setTimeout(() => {
  console.log('โถ๏ธ ะะฐะฟััะบ ัะตัะฒะตัะฐ...');
  
  // ะะพะฑะฐะฒะปัะตะผ ัะปะฐะณ ะดะปั ะธะฝะดะธะบะฐัะธะธ ะทะฐะฟััะบะฐ ัะตัะตะท ััะพั ัะบัะธะฟั
  process.env.SERVER_START_WITH_DELAY = 'true';
  
  // ะะฐะฟััะบะฐะตะผ ัะตัะฒะตั
  require('./server.js');
  
}, 5000); // 5 ัะตะบัะฝะด ะทะฐะดะตัะถะบะธ

// ะะฑัะฐะฑะฐััะฒะฐะตะผ ัะธะณะฝะฐะปั ะพััะฐะฝะพะฒะบะธ
process.on('SIGTERM', () => {
  console.log('๐ ะะพะปััะตะฝ ัะธะณะฝะฐะป SIGTERM. ะะพััะตะบัะฝะพะต ะทะฐะฒะตััะตะฝะธะต...');
  process.exit(0);
});

process.on('SIGINT', () => {
  console.log('๐ ะะพะปััะตะฝ ัะธะณะฝะฐะป SIGINT. ะะพััะตะบัะฝะพะต ะทะฐะฒะตััะตะฝะธะต...');
  process.exit(0);
});